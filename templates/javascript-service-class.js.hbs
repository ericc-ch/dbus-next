import dbus from 'dbus-next';

/*
 * Generated by dbus-next interface generator
 * Template: javascript-service-class.js.hbs
 */

const {
  Interface, DBusError,
  ACCESS_READ, ACCESS_WRITE, ACCESS_READWRITE
} = dbus.interface;
const Variant = dbus.Variant;

{{#each interfaces}}
/**
 * Service: {{../serviceName}}
 * ObjectPath: {{../objectPath}}
 * Interface: {{$.name}}
 */
class {{className $.name}} extends Interface {
  constructor() {
    super('{{$.name}}');
  }

  {{#each property}}
  // property: {{$.name}} { signature: '{{$.type}}', access: {{accessConst $.access}} }
  get {{$.name}}() {
    // TODO: implement property getter for {{$.name}}
  }

  set {{$.name}}(value) {
    // TODO: implement property setter for {{$.name}}
  }

  {{/each}}
  {{#each method}}
  // method: {{$.name}} { inSignature: '{{inSignature arg}}', outSignature: '{{outSignature arg}}' }
  {{$.name}}({{#each arg}}{{#ifeq $.direction "in"}}{{$.name}}{{#unless @last}}, {{/unless}}{{/ifeq}}{{/each}}) {
    // TODO: implement the {{$.name}} method
  }

  {{/each}}
  {{#each signal}}
  // signal: {{$.name}} { signature: '{{signature arg}}' }
  {{$.name}}({{#each arg}}{{$.name}}{{#unless @last}}, {{/unless}}{{/each}}) {
    // TODO: implement the {{$.name}} signal
  }

  {{/each}}
}

{{className $.name}}.configureMembers({
  {{#if property}}
  properties: {
    {{#each property}}
    {{$.name}}: { signature: '{{$.type}}', access: {{accessConst $.access}} }{{#unless @last}},{{/unless}}
    {{/each}}
  }{{#if method}},{{/if}}
  {{/if}}
  {{#if method}}
  methods: {
    {{#each method}}
    {{$.name}}: { inSignature: '{{inSignature arg}}', outSignature: '{{outSignature arg}}' }{{#unless @last}},{{/unless}}
    {{/each}}
  }{{#if signal}},{{/if}}
  {{/if}}
  {{#if signal}}
  signals: {
    {{#each signal}}
    {{$.name}}: { signature: '{{signature arg}}' }{{#unless @last}},{{/unless}}
    {{/each}}
  }
  {{/if}}
});

export { {{className $.name}} };

{{/each}}
